<div class="flex w-full min-h-screen p-10">
  <div class="w-4/5 flex flex-col space-y-8 text-[#EEEEEE]">
    <div class="flex flex-row h-1/2 space-x-8">
      <div class="flex flex-col w-1/2 space-y-8">
        <div class="flex flex-col items-center space-y-4 p-4">
          <!-- Nuova sezione con immagine profilo -->
          <div class="text-center mb-6">
            <% if current_user.profile_image.attached?%>
              <%= image_tag current_user.profile_image_thumbnail, class: "rounded-full mx-auto shadow-xl w-40 h-40 object-cover border-4 border-white" %>
            <% else %>
              <%= image_tag('profile-placeholder.png', alt: 'Profile Image', class: 'rounded-full mx-auto shadow-xl w-40 h-40 object-cover') %>
            <% end %>
          </div>
          <div class="text-center">
            <h2 class="text-2xl font-bold text-[#EEEEEE]">Player: <%= @player.username %></h2>
          </div>
        </div>
      </div>
      <div class="flex flex-col w-1/2 space-y-2 px-4">
        <h2 class="text-2xl font-semibold text-[#EEEEEE]">Your Recent Games</h2>
      </div>
    </div>
    <div class="flex flex-col space-y-2 px-4">
      <h2 class="text-2xl font-semibold text-[#EEEEEE]">Leaderboard</h2>
      <div class="border-t-2 border-white mt-2 w-full"></div>
    </div>
  </div>
  <div class="border-l-2 border-white h-full mt-4"></div>
  <div class="w-1/5 p-6 flex flex-col space-y-6 justify-start">
<div class="flex flex-col space-y-2">
  <%= form_with url: play_now_path, method: :get, local: true, html: { id: 'language-form' } do %>
    <%= select_tag :language, options_for_select(@languages.map { |language| [language, language.downcase] }, selected: @selected_language), 
        class: "w-full px-4 py-2 rounded border border-white text-white bg-transparent focus:border-white focus:ring-0", 
        onchange: "this.form.submit();" %>
  <% end %>
</div>

    <%= form_with url: find_opponent_path, method: :post, local: true do |form| %>
      <%= hidden_field_tag :language, @selected_language, id: 'language_field' %>
      <%= button_tag(type: 'submit', class: "relative inline-flex items-center justify-center w-64 h-12 px-6 py-3 overflow-hidden font-bold rounded-full group bg-transparent text-white border-2 border-white hover:bg-white hover:text-gray-900") do %>
        <svg class="h-6 w-6 text-white-500 mr-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z"/>
          <polyline points="7 8 3 12 7 16" />
          <polyline points="17 8 21 12 17 16" />
          <line x1="14" y1="4" x2="10" y2="20" />
        </svg>
        Find Opponent
      <% end %>
    <% end %>

    <%= form_with url: "#", method: :post, local: true do |form| %>
      <%= hidden_field_tag :language, @selected_language, id: 'language_field' %>
      <%= button_tag(type: 'submit', class: "relative inline-flex items-center justify-center w-64 h-12 px-6 py-3 overflow-hidden font-bold rounded-full group bg-transparent text-white border-2 border-white hover:bg-white hover:text-gray-900") do %>
        <svg class="h-6 w-6 text-white-500 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
          <circle cx="9" cy="7" r="4" />
          <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
          <path d="M16 3.13a4 4 0 0 1 0 7.75" />
        </svg>
        Challenge a Friend
      <% end %>
    <% end %>

    <div>
      <%= button_to 'Logout', 'auth/logout', method: :get, data: { turbo: false }, class: 'relative inline-flex items-center justify-center w-64 h-12 px-6 py-3 overflow-hidden font-bold rounded-full group bg-transparent text-white border-2 border-white hover:bg-white hover:text-gray-900' %>
    </div>

  </div>
</div>
<div class="play-now">
  <div id="waiting_modal"></div>
</div>
